<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- date.range views -->

    <record id="agri_production_date_range_view_search" model="ir.ui.view">
        <field name="name">date.range.view.search</field>
        <field name="model">date.range</field>
        <field name="arch" type="xml">
            <search string="Seasons">
                <field name="name"/>
                <separator/>
                <filter string="Season" name="filter_is_season" domain="[('type_id.is_season', '=', True)]"/>
            </search>
        </field>
    </record>

    <record id="view_date_range_tree" model="ir.ui.view">
        <field name="name">date.range.tree.inherit.agri.production</field>
        <field name="model">date.range</field>
        <field name="inherit_id" ref="date_range.view_date_range_tree"/>
        <field name="arch" type="xml">
            <field name="type_id" position="replace">
                <field name="type_id" context="{'default_is_season': context.get('default_is_season')}"/>
            </field>
        </field>
    </record>

    <record id="view_date_range_form_view" model="ir.ui.view">
        <field name="name">date.range.form.inherit.agri.production</field>
        <field name="model">date.range</field>
        <field name="inherit_id" ref="date_range.view_date_range_form_view"/>
        <field name="arch" type="xml">
            <field name="type_id" position="replace">
                <field name="type_id" context="{'default_is_season': context.get('default_is_season')}"/>
            </field>
        </field>
    </record>

    <record id="view_date_range_type_tree" model="ir.ui.view">
        <field name="name">date.range.type.tree.inherit.agri.production</field>
        <field name="model">date.range.type</field>
        <field name="inherit_id" ref="date_range.view_date_range_type_tree"/>
        <field name="arch" type="xml">
            <field name="allow_overlap" position="after">
                <field name="is_season"/>
            </field>
        </field>
    </record>

    <record id="view_date_range_type_form_view" model="ir.ui.view">
        <field name="name">date.range.type.form.inherit.agri.production</field>
        <field name="model">date.range.type</field>
        <field name="inherit_id" ref="date_range.view_date_range_type_form_view"/>
        <field name="arch" type="xml">
            <field name="allow_overlap" position="after">
                <field name="is_season"/>
            </field>
        </field>
    </record>

    <!-- actions -->

    <record id="agri_season_action" model="ir.actions.act_window">
        <field name="name">Seasons</field>
        <field name="res_model">date.range</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[]</field>
        <field name="context">{
            'search_default_filter_is_season': 1,
            'default_is_season': 1
        }
        </field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a Season
            </p>
        </field>
    </record>

    <!-- menu items -->

    <menuitem id="agri_season_action_menu" name="Seasons"
        parent="agri_production_menu"
        sequence="7"
        action="agri_season_action"/>

</odoo>
